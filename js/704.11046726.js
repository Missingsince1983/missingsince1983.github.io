"use strict";(globalThis["webpackChunkmy_portfolio"]=globalThis["webpackChunkmy_portfolio"]||[]).push([[704],{9704:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var i=t(3673);function o(e,n,t,o,l,r){const s=(0,i.up)("questions-module"),u=(0,i.up)("screen");return(0,i.wg)(),(0,i.j4)(u,{"has-no-back-button":!0,"has-visible-rounds":!0},{default:(0,i.w5)((()=>[(0,i.Wm)(s)])),_:1})}var l=t(7731);const r={class:"questions-module"};function s(e,n,t,o,l,s){var u,a;const c=(0,i.up)("navbar"),d=(0,i.up)("block-title"),v=(0,i.up)("form-button"),w=(0,i.up)("block-subtitle"),h=(0,i.up)("screen-section");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(c,{title:`Отвечает игрок ${null===(u=e.ActivePlayer)||void 0===u?void 0:u.name}`,"is-hidden-back":!0,"bg-color":null===(a=e.ActivePlayer)||void 0===a?void 0:a.color},null,8,["title","bg-color"]),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>{var n,t,o,l;return[(0,i.Wm)(d,{text:null!==(t=null===(n=e.ActiveQuestion)||void 0===n?void 0:n.text)&&void 0!==t?t:"Вопрос не найден"},null,8,["text"]),e.isAnswerShown?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(v,{key:0,text:"Показать ответ","click-handler":e.showAnswer},null,8,["click-handler"])),e.isAnswerShown?((0,i.wg)(),(0,i.j4)(w,{key:1,text:null!==(l=null===(o=e.ActiveQuestion)||void 0===o?void 0:o.answer)&&void 0!==l?l:"Ответ не найден"},null,8,["text"])):(0,i.kq)("",!0)]})),_:1}),e.isAnswerShown?((0,i.wg)(),(0,i.j4)(h,{key:0},{default:(0,i.w5)((()=>{var n;return[(0,i.Wm)(w,{text:`Игрок ${null===(n=e.ActivePlayer)||void 0===n?void 0:n.name} правильно ответил на вопрос?`},null,8,["text"]),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(v,{text:"Да","click-handler":e.rightAnswerHandler},null,8,["click-handler"])])),_:1}),(0,i.Wm)(v,{text:"Нет","click-handler":e.wrongAnswerHandler,"is-secondary":!0},null,8,["click-handler"])]})),_:1})):(0,i.kq)("",!0)])}var u=t(7666),a=t(5695),c=t(9715),d=t(8631),v=t(1959),w=t(9582),h=function(e,n,t,i){function o(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,l){function r(e){try{u(i.next(e))}catch(n){l(n)}}function s(e){try{u(i["throw"](e))}catch(n){l(n)}}function u(e){e.done?t(e.value):o(e.value).then(r,s)}u((i=i.apply(e,n||[])).next())}))};const A=()=>{const e=(0,d.useStore)(),n=(0,w.tv)(),t=n=>{e.commit("gameCreate/mutateActivePlayer",n)},o=()=>h(void 0,void 0,void 0,(function*(){yield e.dispatch("questions/selectRandomQuestion")})),l=n=>h(void 0,void 0,void 0,(function*(){yield e.dispatch("gameCreate/handlePlayersAnswer",n)})),r=(0,i.Fl)((()=>e.state.gameCreate.playersList)),s=(0,i.Fl)((()=>e.state.gameCreate.activePlayer)),u=(0,i.Fl)((()=>e.state.questions.activeQuestion)),a=(0,v.iH)(!1),A=()=>{a.value=!0},y=()=>{a.value=!1},m=e=>h(void 0,void 0,void 0,(function*(){s.value&&(yield l(Object.assign(Object.assign({},s.value),{answerType:e})),y(),yield o(),yield b())})),f=()=>h(void 0,void 0,void 0,(function*(){yield m("Y")})),g=()=>h(void 0,void 0,void 0,(function*(){yield m("F")})),p=()=>h(void 0,void 0,void 0,(function*(){yield n.push(c.Q.STATISTICS)})),k=(0,v.iH)(0),b=()=>h(void 0,void 0,void 0,(function*(){const e=k.value+1>r.value.length;e?yield p():(t(r.value[k.value]),k.value=k.value+1)}));return(0,i.bv)((()=>h(void 0,void 0,void 0,(function*(){yield b(),yield o()})))),{ActivePlayer:s,ActiveQuestion:u,isAnswerShown:a,showAnswer:A,rightAnswerHandler:f,wrongAnswerHandler:g}},y=(0,i.aZ)({name:"QuestionsModule",components:{ScreenSection:u.dg,BlockTitle:u.bi,BlockSubtitle:a.Z,FormButton:u.OL,Navbar:u.wp},setup(){const{ActivePlayer:e,ActiveQuestion:n,isAnswerShown:t,showAnswer:i,rightAnswerHandler:o,wrongAnswerHandler:l}=A();return{ActivePlayer:e,ActiveQuestion:n,isAnswerShown:t,showAnswer:i,rightAnswerHandler:o,wrongAnswerHandler:l}}});var m=t(4260);const f=(0,m.Z)(y,[["render",s]]),g=f,p=(0,i.aZ)({name:"PageQuestions",components:{Screen:l.Z,QuestionsModule:g},setup(){return{}}}),k=(0,m.Z)(p,[["render",o]]),b=k}}]);