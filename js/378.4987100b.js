"use strict";(globalThis["webpackChunkquasar_base_template"]=globalThis["webpackChunkquasar_base_template"]||[]).push([[378],{4378:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var i=t(3673);function o(e,n,t,o,l,r){const s=(0,i.up)("questions-module"),u=(0,i.up)("screen");return(0,i.wg)(),(0,i.j4)(u,{"has-no-back-button":!0,"has-visible-rounds":!0},{default:(0,i.w5)((()=>[(0,i.Wm)(s)])),_:1})}var l=t(9808);const r={class:"rules-module"};function s(e,n,t,o,l,s){const u=(0,i.up)("block-subtitle"),a=(0,i.up)("block-title"),c=(0,i.up)("block-button"),d=(0,i.up)("screen-section");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>{var n,t,o,l,r;return[(0,i.Wm)(u,{text:`Отвечает игрок ${null===(n=e.ActivePlayer)||void 0===n?void 0:n.name}`},null,8,["text"]),(0,i.Wm)(a,{text:null!==(o=null===(t=e.ActiveQuestion)||void 0===t?void 0:t.text)&&void 0!==o?o:"Вопрос не найден"},null,8,["text"]),(0,i.Wm)(c,{text:"Показать ответ","click-handler":e.showAnswer},null,8,["click-handler"]),e.isAnswerShown?((0,i.wg)(),(0,i.j4)(u,{key:0,text:null!==(r=null===(l=e.ActiveQuestion)||void 0===l?void 0:l.answer)&&void 0!==r?r:"Ответ не найден"},null,8,["text"])):(0,i.kq)("",!0)]})),_:1}),e.isAnswerShown?((0,i.wg)(),(0,i.j4)(d,{key:0},{default:(0,i.w5)((()=>{var n;return[(0,i.Wm)(u,{text:`Игрок ${null===(n=e.ActivePlayer)||void 0===n?void 0:n.name} правильно ответил на вопрос?`},null,8,["text"]),(0,i.Wm)(c,{text:"Да","click-handler":e.rightAnswerHandler},null,8,["click-handler"]),(0,i.Wm)(c,{text:"Нет","click-handler":e.wrongAnswerHandler},null,8,["click-handler"])]})),_:1})):(0,i.kq)("",!0)])}var u=t(4785),a=t(7023),c=t(9715),d=t(3437),v=t(1959),w=t(9582),h=function(e,n,t,i){function o(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,l){function r(e){try{u(i.next(e))}catch(n){l(n)}}function s(e){try{u(i["throw"](e))}catch(n){l(n)}}function u(e){e.done?t(e.value):o(e.value).then(r,s)}u((i=i.apply(e,n||[])).next())}))};const A=()=>{const e=(0,d.useStore)(),n=(0,w.tv)(),t=n=>{e.commit("gameCreate/mutateActivePlayer",n)},o=()=>h(void 0,void 0,void 0,(function*(){yield e.dispatch("questions/selectRandomQuestion")})),l=n=>h(void 0,void 0,void 0,(function*(){yield e.dispatch("gameCreate/handlePlayersAnswer",n)})),r=(0,i.Fl)((()=>e.state.gameCreate.playersList)),s=(0,i.Fl)((()=>e.state.gameCreate.activePlayer)),u=(0,i.Fl)((()=>e.state.questions.activeQuestion)),a=(0,v.iH)(!1),A=()=>{a.value=!0},m=()=>{a.value=!1},y=e=>h(void 0,void 0,void 0,(function*(){s.value&&(yield l(Object.assign(Object.assign({},s.value),{answerType:e})),m(),yield o(),yield b())})),f=()=>h(void 0,void 0,void 0,(function*(){yield y("Y")})),g=()=>h(void 0,void 0,void 0,(function*(){yield y("F")})),p=()=>h(void 0,void 0,void 0,(function*(){yield n.push(c.Q.STATISTICS)})),k=(0,v.iH)(0),b=()=>h(void 0,void 0,void 0,(function*(){const e=k.value+1>r.value.length;e?yield p():(t(r.value[k.value]),k.value=k.value+1)}));return(0,i.bv)((()=>h(void 0,void 0,void 0,(function*(){yield b(),yield o()})))),{ActivePlayer:s,ActiveQuestion:u,isAnswerShown:a,showAnswer:A,rightAnswerHandler:f,wrongAnswerHandler:g}},m=(0,i.aZ)({name:"QuestionsModule",components:{ScreenSection:u.dg,BlockTitle:u.bi,BlockSubtitle:a.Z,BlockButton:u.of},setup(){const{ActivePlayer:e,ActiveQuestion:n,isAnswerShown:t,showAnswer:i,rightAnswerHandler:o,wrongAnswerHandler:l}=A();return{ActivePlayer:e,ActiveQuestion:n,isAnswerShown:t,showAnswer:i,rightAnswerHandler:o,wrongAnswerHandler:l}}});var y=t(4260);const f=(0,y.Z)(m,[["render",s]]),g=f,p=(0,i.aZ)({name:"PageQuestions",components:{Screen:l.Z,QuestionsModule:g},setup(){return{}}}),k=(0,y.Z)(p,[["render",o]]),b=k}}]);